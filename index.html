<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mathswell – Interactive Maths Apps</title>
  <meta name="description" content="Interactive maths learning apps by Amir Asghari, including AI-powered tools for exploration and guided practice." />

  <!-- Favicons -->
  <link rel="icon" href="/logo-mathswell-square-mirror.ico" type="image/x-icon">
  <link rel="icon" href="/logo-mathswell-square-mirror.svg" type="image/svg+xml">

  <style>
  :root {
    --bg: #f7faf9;
    --fg: #0b1220;
    --muted: #4b5563;
    --brand: #0f766e;
    --brand-600: #158f85;
    --brand-light: #10b981;
    --accent: #f59e0b;
    --card: #ffffff;
    --card-border: #d1fae5;
    --link: #0f766e;
    --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  }
  
  * { box-sizing: border-box; }
  
  html { scroll-behavior: smooth; }
  
  html, body { height: 100%; }
  
  body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
    background: var(--bg);
    color: var(--fg);
    line-height: 1.6;
    overflow-x: hidden;
  }

  /* Animated background pattern */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(15, 118, 110, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(245, 158, 11, 0.04) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
    animation: float 20s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(-20px, -20px) rotate(1deg); }
    66% { transform: translate(20px, -10px) rotate(-1deg); }
  }

  /* Header with enhanced styling */
  header {
    background: linear-gradient(165deg, #e6fffb 0%, #fdfcf7 25%, rgba(245, 158, 11, 0.05) 100%);
    padding: 4rem 1rem 3rem;
    text-align: center;
    border-bottom: 1px solid #e5e7eb;
    position: relative;
    overflow: hidden;
  }

  header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(15, 118, 110, 0.1) 0%, transparent 70%);
    animation: pulse 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.1); opacity: 0.3; }
  }

  header > * { position: relative; z-index: 1; }

  .logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .7rem;
    animation: slideDown 0.6s ease-out;
  }

  .logo-container img {
    display: block;
    animation: rotate 0.8s ease-out;
  }

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes rotate {
    from { transform: rotate(-180deg) scale(0.5); }
    to { transform: rotate(0) scale(1); }
  }

  header h1 { 
    margin: 0; 
    font-size: clamp(2.2rem, 3.5vw, 3rem); 
    letter-spacing: .2px; 
    color: var(--brand);
    background: linear-gradient(135deg, var(--brand), var(--brand-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  header p { 
    margin: .75rem auto 0; 
    max-width: 70ch; 
    color: var(--muted); 
    font-size: clamp(1rem,1.8vw,1.15rem);
    animation: fadeIn 0.8s ease-out 0.3s both;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Navigation with hover effects */
  nav.primary {
    background: linear-gradient(90deg, #f4fbf9, #fff, #f4fbf9);
    padding: .75rem 1rem;
    display: flex; 
    gap: 1rem; 
    justify-content: center;
    position: sticky; 
    top: 0; 
    z-index: 100;
    border-bottom: 1px solid #e5e7eb;
    backdrop-filter: blur(10px);
    background-color: rgba(244, 251, 249, 0.9);
  }

  nav.primary a { 
    color: var(--link); 
    text-decoration: none; 
    font-weight: 700;
    position: relative;
    padding: 0.25rem 0.5rem;
    transition: color 0.3s ease;
  }

  nav.primary a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--brand-light);
    transition: width 0.3s ease, left 0.3s ease;
  }

  nav.primary a:hover::after {
    width: 100%;
    left: 0;
  }

  /* View Selector */
  .view-selector {
    background: white;
    padding: 1rem;
    border-bottom: 1px solid #e5e7eb;
    position: sticky;
    top: 45px;
    z-index: 99;
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.95);
  }

  .view-selector-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .view-label {
    font-weight: 600;
    color: var(--muted);
    font-size: 0.9rem;
  }

  .view-buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .view-btn {
    padding: 0.4rem 0.9rem;
    border: 2px solid #e5e7eb;
    background: white;
    color: var(--muted);
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .view-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 100%;
    background: linear-gradient(135deg, var(--brand), var(--brand-light));
    transition: width 0.3s ease;
    z-index: -1;
  }

  .view-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(15, 118, 110, 0.2);
  }

  .view-btn.active {
    background: linear-gradient(135deg, var(--brand), var(--brand-light));
    color: white;
    border-color: var(--brand);
  }

  .view-btn.active::before {
    width: 100%;
  }

  /* Level indicators */
  .level-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    background: linear-gradient(135deg, #e6fffb, #f0fdf4);
    color: var(--brand);
    font-size: 0.65rem;
    font-weight: 700;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    border: 1px solid #bdebe3;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .level-badge.primary { 
    background: linear-gradient(135deg, #fef3c7, #fde68a); 
    color: #92400e;
    border-color: #fbbf24;
  }
  .level-badge.secondary { 
    background: linear-gradient(135deg, #dbeafe, #bfdbfe); 
    color: #1e3a8a;
    border-color: #60a5fa;
  }
  .level-badge.alevel { 
    background: linear-gradient(135deg, #ede9fe, #ddd6fe); 
    color: #5b21b6;
    border-color: #a78bfa;
  }
  .level-badge.university { 
    background: linear-gradient(135deg, #fee2e2, #fecaca); 
    color: #991b1b;
    border-color: #f87171;
  }

  main { 
    max-width: 1200px; 
    margin: 2rem auto; 
    padding: 0 1rem;
    position: relative;
    z-index: 1;
  }

  /* Section headings with accent */
  h2 { 
    font-size: 1.75rem; 
    margin: 3rem 0 1.5rem; 
    color: var(--fg);
    position: relative;
    display: inline-block;
  }

  h2::before {
    content: '';
    position: absolute;
    left: -20px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 30px;
    background: linear-gradient(180deg, var(--brand), var(--brand-light));
    border-radius: 2px;
  }

  /* Enhanced grid */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
    animation: fadeInUp 0.6s ease-out;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Card with enhanced animations */
  a.card {
    display: block;
    background: var(--card);
    border-radius: 16px;
    border: 1px solid var(--card-border);
    box-shadow: 0 4px 12px rgba(15, 118, 110, 0.08);
    padding: 1.25rem;
    text-decoration: none;
    color: inherit;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  a.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--brand), var(--brand-light), var(--accent));
    transform: translateX(-100%);
    transition: transform 0.5s ease;
  }

  a.card:hover::before {
    transform: translateX(0);
  }

  a.card:hover, a.card:focus-visible {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 12px 28px rgba(15, 118, 110, 0.15);
    border-color: var(--brand-light);
    outline: none;
  }

  .card h3 { 
    margin: .25rem 0; 
    font-size: 1.15rem; 
    color: var(--fg);
    transition: color 0.3s ease;
  }

  a.card:hover h3 {
    color: var(--brand);
  }

  .card p { 
    margin: 0.5rem 0 0; 
    color: var(--muted); 
    font-size: .95rem;
    line-height: 1.5;
  }

  /* AI badge with animation */
  .badge {
    position: absolute;
    top: 12px; 
    right: 12px;
    background: linear-gradient(135deg, #0f766e, #10b981);
    color: #fff;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    animation: glow 2s ease-in-out infinite;
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 2px 8px rgba(0,0,0,0.2), 0 0 0 0 rgba(16, 185, 129, 0.4); }
    50% { box-shadow: 0 2px 8px rgba(0,0,0,0.2), 0 0 0 4px rgba(16, 185, 129, 0); }
  }

  /* Footer with gradient */
  footer {
    background: linear-gradient(180deg, #f4fbf9, #e6fffb);
    color: var(--muted);
    text-align: center; 
    padding: 2rem 1rem; 
    margin-top: 4rem;
    border-top: 1px solid #e5e7eb;
    position: relative;
  }

  /* Contact chips with hover effects */
  .chips { 
    display: flex; 
    gap: .75rem; 
    flex-wrap: wrap;
    justify-content: flex-start;
  }

  .chip {
    background: linear-gradient(135deg, #e6fffb, #f0fdf4);
    padding: .4rem .8rem; 
    border-radius: 999px;
    font-weight: 700; 
    text-decoration: none; 
    color: var(--brand);
    border: 1px solid #bdebe3;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .chip::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(16, 185, 129, 0.1);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.5s ease, height 0.5s ease;
  }

  .chip:hover::before {
    width: 100%;
    height: 100%;
  }

  .chip:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(15, 118, 110, 0.2);
    border-color: var(--brand);
  }

  /* Counter pill with animation */
  .counter {
    display: inline-flex; 
    align-items: center; 
    gap: .5rem;
    padding: .4rem .7rem; 
    border-radius: 999px;
    background: linear-gradient(135deg, #e6fffb, #f0fdf4);
    border: 1px solid #bdebe3; 
    color: #0f766e;
    font-weight: 700; 
    font-size: .9rem;
    animation: slideUp 0.6s ease-out;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .counter svg { 
    width: 16px; 
    height: 16px;
    animation: blink 3s ease-in-out infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* Persian section */
  #fa {
    direction: rtl;
    text-align: right;
  }

  #fa h2::before {
    left: auto;
    right: -20px;
  }

  #fa h2, 
  #fa .card h3, 
  #fa .card p {
    text-align: right;
  }

  #fa .badge {
    right: auto;
    left: 12px;
  }

  /* Smooth scroll reveal animation */
  section {
    animation: revealSection 0.8s ease-out;
  }

  @keyframes revealSection {
    from { 
      opacity: 0; 
      transform: translateY(30px);
    }
    to { 
      opacity: 1; 
      transform: translateY(0);
    }
  }

  /* Add stagger effect to cards */
  .grid > .card:nth-child(1) { animation-delay: 0.1s; }
  .grid > .card:nth-child(2) { animation-delay: 0.2s; }
  .grid > .card:nth-child(3) { animation-delay: 0.3s; }
  .grid > .card:nth-child(4) { animation-delay: 0.4s; }
  .grid > .card:nth-child(5) { animation-delay: 0.5s; }

  /* Loading state for counter */
  #visitor-count {
    display: inline-block;
    min-width: 40px;
  }

  /* Sparkle effect for AI section title */
  #ai-powered h2::after {
    content: '✨';
    display: inline-block;
    margin-left: 0.5rem;
    animation: sparkle 2s ease-in-out infinite;
  }

  @keyframes sparkle {
    0%, 100% { 
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
    50% { 
      transform: scale(1.2) rotate(180deg);
      opacity: 0.7;
    }
  }

  /* Hidden by default for level-specific views */
  .level-view { display: none; }
  .level-view.active { display: block; }

  /* Info box for level view */
  .level-info {
    background: linear-gradient(135deg, #e6fffb, #f0fdf4);
    border: 1px solid #bdebe3;
    border-radius: 12px;
    padding: 1.5rem;
    margin: 2rem 0;
    color: var(--brand);
  }

  .level-info h3 {
    margin: 0 0 0.5rem;
    font-size: 1.3rem;
  }

  .level-info p {
    margin: 0;
    color: var(--muted);
  }

  /* Pulse animation for the live indicator */
  .pulse {
    animation: pulse 2s ease-in-out infinite;
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* Mobile responsiveness */
  @media (max-width: 640px) {
    header { padding: 3rem 1rem 2rem; }
    h2 { font-size: 1.5rem; }
    h2::before { display: none; }
    .grid { gap: 1rem; }
    .view-selector { top: 44px; }
    .view-selector-inner {
      flex-direction: column;
      align-items: stretch;
    }
    .view-buttons {
      justify-content: space-between;
    }
    .view-btn {
      flex: 1;
      min-width: 0;
      font-size: 0.8rem;
      padding: 0.35rem 0.6rem;
    }
    footer .counter {
      display: flex;
      margin: 0.5rem 0;
    }
  }

  /* Accessibility: Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  </style>
</head>
<body>
<header>
  <div class="logo-container">
    <img src="/logo-mathswell-square-mirror.svg" alt="Mathswell logo" width="72" height="72">
    <span style="font-size:2.2rem;font-weight:700;color:#0f766e;">Mathswell</span>
  </div>
  <p>
    Interactive maths learning apps for classrooms and independent study.
    <strong>AI-powered</strong> tools that generate examples, guide practice, and support deeper exploration.
  </p>
</header>

  <!-- View Selector -->
  <div class="view-selector">
    <div class="view-selector-inner">
      <span class="view-label">Organize by:</span>
      <div class="view-buttons">
        <button class="view-btn active" data-view="topic">Topic</button>
        <button class="view-btn" data-view="primary">Primary</button>
        <button class="view-btn" data-view="secondary">Secondary</button>
        <button class="view-btn" data-view="alevel">A-Level/College</button>
        <button class="view-btn" data-view="university">University</button>
      </div>
    </div>
  </div>

  <!-- Topic View (Default) -->
  <div id="topic-view" class="level-view active">
    <!-- Featured AI-Powered Apps Section -->
    <section id="ai-powered" style="background: linear-gradient(135deg, rgba(15, 118, 110, 0.03) 0%, rgba(16, 185, 129, 0.05) 100%); padding: 2rem 1rem; border-bottom: 1px solid #e5e7eb;">
      <div style="max-width: 1200px; margin: 0 auto;">
        <h2 style="text-align: center; margin: 0 0 0.5rem; background: linear-gradient(135deg, #0f766e, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: clamp(1.8rem, 3vw, 2.2rem);">
          Maths Well with AI
        </h2>
        <p style="text-align: center; color: #4b5563; margin: 0 auto 1.5rem; max-width: 60ch; font-size: 0.95rem;">
          Experience personalized learning with our AI-powered tools that adapt to your needs and generate unlimited practice examples.
        </p>
        <div class="grid" style="max-width: 1000px; margin: 0 auto;">
          <a class="card" href="https://circle-theorems.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Circle Theorems</h3>
            <p>The interactive canvas for building, solving, and mastering circle geometry with AI.</p>
          </a>
          <a class="card" href="https://complex-numbers.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Complex Numbers</h3>
            <p>Master complex numbers through interactive exploration of algebraic and geometric perspectives, with AI support for personalized practice and step-by-step guidance.</p>
          </a>
          <a class="card" href="https://pilot.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Function Explorer</h3>
            <p>AI-enhanced exploration of mathematical functions with personalized guidance, instant feedback, and adaptive challenges.</p>
          </a>
          <a class="card" href="https://if-then.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>If-Then Logic Explorer</h3>
            <p>A personal AI logic tutor for understanding conditional statements, their converses, inverses, and contrapositives, using AI-generated examples from various topics and with different levels of challenge.</p>
          </a>
          <a class="card" href="https://induction.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Mathematical Induction</h3>
            <p>Master mathematical induction with AI support, building proofs from base cases through inductive steps with personalized guidance.</p>
          </a>
          <a class="card" href="https://proof-by-contradiction.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Proof by Contradiction</h3>
            <p>Learn the art of proof by contradiction through AI-guided examples and step-by-step construction of mathematical arguments.</p>
          </a>
          <a class="card" href="https://triples.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Pythagorean Triples Explorer</h3>
            <p>Discover patterns in Pythagorean triples with AI assistance, exploring primitive triples and their fascinating properties.</p>
          </a>
          <a class="card" href="https://root-finding.mathswell.com" target="_blank" rel="noopener" style="position: relative;">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Root Finding Methods</h3>
            <p>Master numerical methods with AI-guided exploration of bisection, Newton-Raphson, and more through interactive visualizations.</p>
          </a>
        </div>
      </div>
    </section>

    <nav class="primary" aria-label="Primary">
      <a href="#contact">Amir Asghari</a>
    </nav>

    <main id="apps">
      <section id="arithmetics-and-algebra">
        <h2>Arithmetics and Algebra</h2>
        <div class="grid">
          <a class="card" href="/integer-panel-playground/">
            <h3>Integer Panel Playground</h3>
            <p>A visual tool for teaching integer arithmetic, addition, and subtraction using an interactive panel.</p>
          </a>
          <a class="card" href="/integers-fractions/">
            <h3>Integers=Fractions</h3>
            <p>Integers=Fractions is an interactive playground that visually demonstrates how the rules of fraction arithmetic directly mirror the rules of integers.</p>
          </a>
          <a class="card" href="/multiplication-web/">
            <h3>Multiplication Web</h3>
            <p>A game to build an understanding of multiplication by unlocking facts using strategies like the distributive property.</p>
          </a>
        </div>
      </section>

      <section id="calculus">
        <h2>Calculus</h2>
        <div class="grid">
          <a class="card" href="/derivative/">
            <h3>Derivative Explorer: Two Views, One Truth</h3>
            <p>Discover how instantaneous velocity and tangent line slope are the same concept viewed differently. Inspired by W.W. Sawyer's moving paper visualization, explore derivatives through motion creating graphs and graphs controlling motion.</p>
          </a>
        </div>
      </section>

      <section id="fractals-and-chaos">
        <h2>Fractals and Chaos</h2>
        <div class="grid">
          <a class="card" href="/cantor-set/">
            <h3>Cantor Set Explorer</h3>
            <p>Generate stages of the Cantor set, explore its properties with zoom and pan, and calculate its box-counting dimension.</p>
          </a>
          <a class="card" href="/crumpled-paper/">
            <h3>Crumpled Paper Dimension</h3>
            <p>An interactive lab to analyze the fractal dimension of a crumpled ball by plotting its mass vs. radius on a log-log scale.</p>
          </a>
          <a class="card" href="/koch-snowflake/">
            <h3>Koch Snowflake Explorer</h3>
            <p>Construct the classic Koch snowflake, explore its infinite perimeter, and analyze its fractal dimension using a box-counting lab.</p>
          </a>
          <a class="card" href="/logistic-bifurcation-diagram/">
            <h3>Logistic Map Bifurcation Diagram</h3>
            <p>Visualize the complete bifurcation diagram of the logistic map, revealing the stunning fractal patterns on the road to chaos.</p>
          </a>
          <a class="card" href="/logistic-sequence-explorer/">
            <h3>Logistic Map Sequence Explorer</h3>
            <p>An introduction to the logistic map. Explore how a single sequence behaves for different values of the growth rate <code>r</code>.</p>
          </a>
          <a class="card" href="/sierpinski-triangle/">
            <h3>Sierpiński Triangle Explorer</h3>
            <p>Construct the Sierpiński triangle recursively. Includes interactive zoom/pan and a lab for calculating the box-counting dimension.</p>
          </a>
        </div>
      </section>

      <section id="linear-algebra">
        <h2>Linear Algebra</h2>
        <div class="grid">
          <a class="card" href="/linear-algebra/">
            <h3>Linear Algebra </h3>
            <p>Linear Algebra: An interactive tool to explore linear systems by linking algebra to geometry in different forms.</p>
          </a>
        </div>
      </section>

      <section id="logic-and-proof">
        <h2>Logic and Proof</h2>
        <div class="grid">
          <a class="card" href="https://if-then.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>If-Then Logic Explorer</h3>
            <p>A personal AI logic tutor for understanding conditional statements, their converses, inverses, and contrapositives, using AI-generated examples from various topics and with different levels of challenge.</p>
          </a>
          <a class="card" href="https://induction.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Mathematical Induction</h3>
            <p>Master mathematical induction with AI support, building proofs from base cases through inductive steps with personalized guidance.</p>
          </a>
          <a class="card" href="https://proof-by-contradiction.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Proof by Contradiction</h3>
            <p>Learn the art of proof by contradiction through AI-guided examples and step-by-step construction of mathematical arguments.</p>
          </a>
        </div>
      </section>

      <section id="number-theory">
        <h2>Number Theory</h2>
        <div class="grid">
          <a class="card" href="https://triples.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Pythagorean Triples Explorer</h3>
            <p>Discover patterns in Pythagorean triples with AI assistance, exploring primitive triples and their fascinating properties.</p>
          </a>
        </div>
      </section>

      <section id="numerical-integration">
        <h2>Numerical Integration</h2>
        <div class="grid">
          <a class="card" href="/numerical-integration/">
            <h3>Numerical Integration Lab</h3>
            <p>Visually compare the Midpoint, Trapezoidal, and Simpson's rules for approximating integrals and analyze their error rates.</p>
          </a>
          <a class="card" href="/romberg-integration/">
            <h3>Romberg Integration Lab</h3>
            <p>Explore the powerful Romberg method, which uses Richardson extrapolation to achieve high accuracy with fewer steps.</p>
          </a>
        </div>
      </section>

      <section id="numerical-methods">
        <h2>Numerical Methods</h2>
        <div class="grid">
          <a class="card" href="/fixed-point-iteration/">
            <h3>Fixed-Point Iteration Visualizer</h3>
            <p>Visualize how the fixed-point iteration method finds roots, and see why some functions converge while others diverge.</p>
          </a>
          <a class="card" href="/linear-interpolation/">
            <h3>Linear Interpolation Root-Finder</h3>
            <p>Finds roots of equations using the Method of False Position. Visualize how it uses a secant line to make intelligent guesses.</p>
          </a>
          <a class="card" href="https://root-finding.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Root Finding Methods</h3>
            <p>Master numerical methods with AI-guided exploration of bisection, Newton-Raphson, and more through interactive visualizations.</p>
          </a>
          <a class="card" href="/secant-newton-methods/">
            <h3>Secant & Newton-Raphson Methods</h3>
            <p>Visually compare two advanced root-finding algorithms. Explore their speed and convergence on user-defined functions.</p>
          </a>
          <a class="card" href="/taylor-series/">
            <h3>Taylor Series Visualizer</h3>
            <p>Explore how functions are approximated by polynomials. Visually compare a function to its Taylor series and analyze the error.</p>
          </a>
        </div>
      </section>

      <section id="pre-calculus">
        <h2>Pre-Calculus</h2>
        <div class="grid">
          <a class="card" href="/absolute-value/">
            <h3>Absolute Value Explorer</h3>
            <p>Explore absolute values from two perspectives: as a function on a 2D graph, and as distance on a number line.</p>
          </a>
          <a class="card" href="https://circle-theorems.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Circle Theorems</h3>
            <p>The interactive canvas for building, solving, and mastering circle geometry with AI.</p>
          </a>
          <a class="card" href="https://complex-numbers.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Complex Numbers</h3>
            <p>Master complex numbers through interactive exploration of algebraic and geometric perspectives, with AI support for personalized practice and step-by-step guidance.</p>
          </a>
          <a class="card" href="/exponentials/">
            <h3>Exponentials</h3>
            <p>An interactive explorer for exponential functions. Visualize how the base and other parameters affect the graph's growth and shape.</p>
          </a>
          <a class="card" href="https://pilot.mathswell.com" target="_blank" rel="noopener">
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Function Explorer</h3>
            <p>AI-enhanced exploration of mathematical functions with personalized guidance, instant feedback, and adaptive challenges.</p>
          </a>
          <a class="card" href="/function-explorer-linear-quadratic/">
            <h3>Function Explorer: Linear vs. Quadratic</h3>
            <p>Explore the distinct behaviors of linear and quadratic functions. See how their equations, graphs, and rates of change differ.</p>
          </a>
          <a class="card" href="/inverse-explorer/">
            <h3>Inverse Function Explorer</h3>
            <p>A tool to visualize functions and their inverses, illustrating the concept of reflection across the y = x line. Test for one-to-one criteria.</p>
          </a>
          <a class="card" href="/polynomial-explorer/">
            <h3>Polynomial Explorer</h3>
            <p>Explore the relationship between a polynomial's roots and its factored form. Adjust roots on the graph and see the equation update instantly.</p>
          </a>
          <a class="card" href="/quadratic-behaviour/">
            <h3>Quadratic Behaviour</h3>
            <p>An interactive tool to explore quadratic functions. See how changing coefficients affects the graph's shape, vertex, and roots.</p>
          </a>
          <a class="card" href="/trig-circle/">
            <h3>Trigonometric Circle</h3>
            <p>An interactive unit circle to visualize trigonometric functions (sine, cosine, tangent) and their relationships.</p>
          </a>
        </div>
      </section>

      <section id="solution-of-ordinary-differential-equations">
        <h2>Solution of Ordinary Differential Equations</h2>
        <div class="grid">
          <a class="card" href="/ode-solver-comparison/">
            <h3>ODE Solver & Error Comparison</h3>
            <p>Compare the long-term accuracy and error accumulation of various methods for solving ordinary differential equations.</p>
          </a>
          <a class="card" href="/ode-step-visualizer/">
            <h3>ODE Step Visualizer</h3>
            <p>Visually explore the geometry of a single step for the Euler, Modified Euler, and Runge-Kutta (RK4) methods.</p>
          </a>
          <a class="card" href="/taylor-method-ode/">
            <h3>Taylor Method for ODEs</h3>
            <p>Explore how using higher-order derivatives in a Taylor series creates highly accurate solutions for differential equations.</p>
          </a>
        </div>
      </section>

      <section id="fa">
        <h2>فارسی</h2>
        <div class="grid">
          <a class="card" href="/multiplication-puzzle-fa/">
            <h3>پازل مساحت ضرب</h3>
            <p>یک ابزار بصری برای درک خاصیت توزیع‌پذیری ضرب با نمایش آن به عنوان مساحت و ساختن اثبات‌های تصویری.</p>
          </a>
        </div>
      </section>
    </main>
  </div>

  <!-- Primary School View -->
  <div id="primary-view" class="level-view">
    <main>
      <div class="level-info">
        <h3>Primary School Mathematics</h3>
        <p>Foundation concepts in arithmetic and early mathematical thinking, designed for ages 5-11.</p>
      </div>

      <section>
        <h2>Number and Operations</h2>
        <div class="grid">
          <a class="card" href="/integer-panel-playground/">
            <span class="level-badge primary">Primary</span>
            <h3>Integer Panel Playground</h3>
            <p>A visual tool for teaching integer arithmetic, addition, and subtraction using an interactive panel.</p>
          </a>
          <a class="card" href="/multiplication-web/">
            <span class="level-badge primary">Primary</span>
            <h3>Multiplication Web</h3>
            <p>A game to build an understanding of multiplication by unlocking facts using strategies like the distributive property.</p>
          </a>
        </div>
      </section>

      <section id="fa">
        <h2>فارسی</h2>
        <div class="grid">
          <a class="card" href="/multiplication-puzzle-fa/">
            <span class="level-badge primary">Primary</span>
            <h3>پازل مساحت ضرب</h3>
            <p>یک ابزار بصری برای درک خاصیت توزیع‌پذیری ضرب با نمایش آن به عنوان مساحت و ساختن اثبات‌های تصویری.</p>
          </a>
        </div>
      </section>
    </main>
  </div>

  <!-- Secondary School View -->
  <div id="secondary-view" class="level-view">
    <main>
      <div class="level-info">
        <h3>Secondary School Mathematics</h3>
        <p>Core mathematical concepts for ages 11-16, covering algebra, geometry, and early functions.</p>
      </div>

      <section>
        <h2>Algebra and Functions</h2>
        <div class="grid">
          <a class="card" href="/integers-fractions/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Integers=Fractions</h3>
            <p>Integers=Fractions is an interactive playground that visually demonstrates how the rules of fraction arithmetic directly mirror the rules of integers.</p>
          </a>
          <a class="card" href="/absolute-value/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Absolute Value Explorer</h3>
            <p>Explore absolute values from two perspectives: as a function on a 2D graph, and as distance on a number line.</p>
          </a>
          <a class="card" href="/exponentials/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Exponentials</h3>
            <p>An interactive explorer for exponential functions. Visualize how the base and other parameters affect the graph's growth and shape.</p>
          </a>
          <a class="card" href="/function-explorer-linear-quadratic/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Function Explorer: Linear vs. Quadratic</h3>
            <p>Explore the distinct behaviors of linear and quadratic functions. See how their equations, graphs, and rates of change differ.</p>
          </a>
          <a class="card" href="/quadratic-behaviour/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Quadratic Behaviour</h3>
            <p>An interactive tool to explore quadratic functions. See how changing coefficients affects the graph's shape, vertex, and roots.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Geometry and Trigonometry</h2>
        <div class="grid">
          <a class="card" href="https://circle-theorems.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge secondary">Secondary</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Circle Theorems</h3>
            <p>The interactive canvas for building, solving, and mastering circle geometry with AI.</p>
          </a>
          <a class="card" href="/trig-circle/">
            <span class="level-badge secondary">Secondary</span>
            <h3>Trigonometric Circle</h3>
            <p>An interactive unit circle to visualize trigonometric functions (sine, cosine, tangent) and their relationships.</p>
          </a>
          <a class="card" href="https://triples.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge secondary">Secondary</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Pythagorean Triples Explorer</h3>
            <p>Discover patterns in Pythagorean triples with AI assistance, exploring primitive triples and their fascinating properties.</p>
          </a>
        </div>
      </section>
    </main>
  </div>

  <!-- A-Level/College View -->
  <div id="alevel-view" class="level-view">
    <main>
      <div class="level-info">
        <h3>A-Level & College Mathematics</h3>
        <p>Advanced pre-university mathematics for ages 16-18, including calculus, complex numbers, and proof techniques.</p>
      </div>

      <section>
        <h2>Functions and Calculus</h2>
        <div class="grid">
          <a class="card" href="https://pilot.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge alevel">A-Level</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Function Explorer</h3>
            <p>AI-enhanced exploration of mathematical functions with personalized guidance, instant feedback, and adaptive challenges.</p>
          </a>
          <a class="card" href="/polynomial-explorer/">
            <span class="level-badge alevel">A-Level</span>
            <h3>Polynomial Explorer</h3>
            <p>Explore the relationship between a polynomial's roots and its factored form. Adjust roots on the graph and see the equation update instantly.</p>
          </a>
          <a class="card" href="/inverse-explorer/">
            <span class="level-badge alevel">A-Level</span>
            <h3>Inverse Function Explorer</h3>
            <p>A tool to visualize functions and their inverses, illustrating the concept of reflection across the y = x line. Test for one-to-one criteria.</p>
          </a>
          <a class="card" href="/derivative/">
            <span class="level-badge alevel">A-Level</span>
            <h3>Derivative Explorer: Two Views, One Truth</h3>
            <p>Discover how instantaneous velocity and tangent line slope are the same concept viewed differently.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Complex Numbers and Advanced Topics</h2>
        <div class="grid">
          <a class="card" href="https://complex-numbers.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge alevel">A-Level</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Complex Numbers</h3>
            <p>Master complex numbers through interactive exploration of algebraic and geometric perspectives, with AI support.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Logic and Proof</h2>
        <div class="grid">
          <a class="card" href="https://if-then.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge alevel">A-Level</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>If-Then Logic Explorer</h3>
            <p>A personal AI logic tutor for understanding conditional statements and their transformations.</p>
          </a>
          <a class="card" href="https://induction.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge alevel">A-Level</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Mathematical Induction</h3>
            <p>Master mathematical induction with AI support, building proofs from base cases through inductive steps.</p>
          </a>
          <a class="card" href="https://proof-by-contradiction.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge alevel">A-Level</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Proof by Contradiction</h3>
            <p>Learn the art of proof by contradiction through AI-guided examples and step-by-step construction.</p>
          </a>
        </div>
      </section>
    </main>
  </div>

  <!-- University View -->
  <div id="university-view" class="level-view">
    <main>
      <div class="level-info">
        <h3>University Mathematics</h3>
        <p>Advanced topics for undergraduate and graduate students, including numerical methods, linear algebra, and chaos theory.</p>
      </div>

      <section>
        <h2>Numerical Methods</h2>
        <div class="grid">
          <a class="card" href="/numerical-integration/">
            <span class="level-badge university">University</span>
            <h3>Numerical Integration Lab</h3>
            <p>Visually compare the Midpoint, Trapezoidal, and Simpson's rules for approximating integrals and analyze their error rates.</p>
          </a>
          <a class="card" href="/romberg-integration/">
            <span class="level-badge university">University</span>
            <h3>Romberg Integration Lab</h3>
            <p>Explore the powerful Romberg method, which uses Richardson extrapolation to achieve high accuracy with fewer steps.</p>
          </a>
          <a class="card" href="/fixed-point-iteration/">
            <span class="level-badge university">University</span>
            <h3>Fixed-Point Iteration Visualizer</h3>
            <p>Visualize how the fixed-point iteration method finds roots, and see why some functions converge while others diverge.</p>
          </a>
          <a class="card" href="/linear-interpolation/">
            <span class="level-badge university">University</span>
            <h3>Linear Interpolation Root-Finder</h3>
            <p>Finds roots of equations using the Method of False Position. Visualize how it uses a secant line to make intelligent guesses.</p>
          </a>
          <a class="card" href="https://root-finding.mathswell.com" target="_blank" rel="noopener">
            <span class="level-badge university">University</span>
            <div class="badge" aria-label="AI powered">AI</div>
            <h3>Root Finding Methods</h3>
            <p>Master numerical methods with AI-guided exploration of bisection, Newton-Raphson, and more.</p>
          </a>
          <a class="card" href="/secant-newton-methods/">
            <span class="level-badge university">University</span>
            <h3>Secant & Newton-Raphson Methods</h3>
            <p>Visually compare two advanced root-finding algorithms. Explore their speed and convergence on user-defined functions.</p>
          </a>
          <a class="card" href="/taylor-series/">
            <span class="level-badge university">University</span>
            <h3>Taylor Series Visualizer</h3>
            <p>Explore how functions are approximated by polynomials. Visually compare a function to its Taylor series and analyze the error.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Differential Equations</h2>
        <div class="grid">
          <a class="card" href="/ode-solver-comparison/">
            <span class="level-badge university">University</span>
            <h3>ODE Solver & Error Comparison</h3>
            <p>Compare the long-term accuracy and error accumulation of various methods for solving ordinary differential equations.</p>
          </a>
          <a class="card" href="/ode-step-visualizer/">
            <span class="level-badge university">University</span>
            <h3>ODE Step Visualizer</h3>
            <p>Visually explore the geometry of a single step for the Euler, Modified Euler, and Runge-Kutta (RK4) methods.</p>
          </a>
          <a class="card" href="/taylor-method-ode/">
            <span class="level-badge university">University</span>
            <h3>Taylor Method for ODEs</h3>
            <p>Explore how using higher-order derivatives in a Taylor series creates highly accurate solutions for differential equations.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Linear Algebra</h2>
        <div class="grid">
          <a class="card" href="/linear-algebra/">
            <span class="level-badge university">University</span>
            <h3>Linear Algebra</h3>
            <p>Linear Algebra: An interactive tool to explore linear systems by linking algebra to geometry in different forms.</p>
          </a>
        </div>
      </section>

      <section>
        <h2>Fractals and Chaos Theory</h2>
        <div class="grid">
          <a class="card" href="/cantor-set/">
            <span class="level-badge university">University</span>
            <h3>Cantor Set Explorer</h3>
            <p>Generate stages of the Cantor set, explore its properties with zoom and pan, and calculate its box-counting dimension.</p>
          </a>
          <a class="card" href="/crumpled-paper/">
            <span class="level-badge university">University</span>
            <h3>Crumpled Paper Dimension</h3>
            <p>An interactive lab to analyze the fractal dimension of a crumpled ball by plotting its mass vs. radius on a log-log scale.</p>
          </a>
          <a class="card" href="/koch-snowflake/">
            <span class="level-badge university">University</span>
            <h3>Koch Snowflake Explorer</h3>
            <p>Construct the classic Koch snowflake, explore its infinite perimeter, and analyze its fractal dimension using a box-counting lab.</p>
          </a>
          <a class="card" href="/logistic-bifurcation-diagram/">
            <span class="level-badge university">University</span>
            <h3>Logistic Map Bifurcation Diagram</h3>
            <p>Visualize the complete bifurcation diagram of the logistic map, revealing the stunning fractal patterns on the road to chaos.</p>
          </a>
          <a class="card" href="/logistic-sequence-explorer/">
            <span class="level-badge university">University</span>
            <h3>Logistic Map Sequence Explorer</h3>
            <p>An introduction to the logistic map. Explore how a single sequence behaves for different values of the growth rate <code>r</code>.</p>
          </a>
          <a class="card" href="/sierpinski-triangle/">
            <span class="level-badge university">University</span>
            <h3>Sierpiński Triangle Explorer</h3>
            <p>Construct the Sierpiński triangle recursively. Includes interactive zoom/pan and a lab for calculating the box-counting dimension.</p>
          </a>
        </div>
      </section>
    </main>
  </div>

<!-- About the Founder -->
<section id="about-founder" style="padding:3rem 1rem; border-top:1px solid #e5e7eb; background:#fff;">
  <div class="about-wrap" style="max-width:1100px; margin:0 auto; display:grid; grid-template-columns:1fr; gap:1.5rem; align-items:start;">
    <figure style="margin:0; text-align:center;">
      <img
        src="amir-turing.jpg"
        alt="Amir Asghari with an Alan Turing quote in the background"
        style="width:100%; max-width:520px; height:auto; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.08); border:1px solid #e5e7eb; margin:0 auto;"
        loading="lazy"
        sizes="(max-width: 1024px) 100vw, 520px"
      >
      <figcaption style="font-size:.85rem; color:#6b7280; margin-top:.5rem;">
        "Those who can imagine anything can create the impossible." — Alan Turing
      </figcaption>
    </figure>

    <div style="max-width:70ch; margin:0 auto;">
      <h2 style="margin:0 0 .5rem 0;">About the Founder</h2>
      <p style="margin:0;">
I grew up in the North of Tehran (Shemiran), where I first discovered the joy of mathematics before completing studies in pure mathematics and then earning a PhD in Mathematics Education at the University of Warwick. After my doctorate I returned to Iran to teach at both universities where I had studied, and to build lasting professional connections with mathematics teachers that still shape my work. Alongside teaching and research, I translated Logicomix: An Epic Search for Truth into Persian, bringing a celebrated mathematical narrative to new readers.      </p>
      <p style="margin:.9rem 0 0;">
Since then, I have combined research, teaching, and innovation across the UK and internationally, publishing in leading journals such as Synthese and Educational Studies in Mathematics, and receiving the "Amazing Teaching Award" at Liverpool John Moores University. Mathswell is the culmination of this journey: a platform dedicated to making deep, meaningful mathematics available to everyone, everywhere. One student captured what that feels like.      </p>
      <blockquote style="margin:1rem 0 0; padding:1rem 1.25rem; background:#f8fafc; border-left:4px solid #0f766e; border-radius:8px;">
        <em>"It is no longer just a subject with a fixed set of dynamics. It is a whole conceptual system with infinite links and possibilities waiting to be explored. So, thanks, Amir, for showing me that."</em>
      </blockquote>
    </div>
  </div>

  <!-- Mobile-first: stack; only go side-by-side on large screens -->
  <style>
    @media (min-width: 1100px) {
      #about-founder .about-wrap { grid-template-columns: 1.1fr 1.4fr; }
      #about-founder figure { margin: 0; }
    }
  </style>
</section>

  <section id="contact">
    <h2>Contact</h2>
    <div class="chips">
      <a class="chip" href="mailto:asgharidotamir@gmail.com">asgharidotamiratgmaildotcom</a>
      <a class="chip" href="https://amirasghari.com" target="_blank" rel="noopener">amirasghari.com</a>
    </div>
  </section>

<footer>
  <p>&copy; 2025 Mathswell.</p>
  
  <!-- Total Visitor Counter -->
  <div class="counter">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
      <circle cx="12" cy="7" r="4"></circle>
    </svg>
    <span>Visitors: <span id="visitor-count">...</span></span>
  </div>
  
  <!-- Live Visitors Counter -->
  <div class="counter" style="margin-left: 20px;">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"></circle>
      <circle cx="12" cy="12" r="3" fill="currentColor" class="pulse"></circle>
    </svg>
    <span><span id="live-visitors">2</span> viewing now</span>
  </div>
</footer>

<!-- GoatCounter Tracking -->
<script data-goatcounter="https://mathswell.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

<!-- All counter scripts and view toggle -->
<script>
(function() {
  // View toggle functionality
  const viewButtons = document.querySelectorAll('.view-btn');
  const levelViews = document.querySelectorAll('.level-view');
  
  viewButtons.forEach(button => {
    button.addEventListener('click', () => {
      const targetView = button.dataset.view;
      
      // Update active button
      viewButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      // Show corresponding view
      levelViews.forEach(view => {
        view.classList.remove('active');
      });
      document.getElementById(targetView + '-view').classList.add('active');
      
      // Smooth scroll to top of content
      window.scrollTo({ top: 200, behavior: 'smooth' });
      
      // Save preference
      localStorage.setItem('mathswell_view_preference', targetView);
    });
  });
  
  // Load saved preference
  const savedView = localStorage.getItem('mathswell_view_preference');
  if (savedView && savedView !== 'topic') {
    const savedButton = document.querySelector(`[data-view="${savedView}"]`);
    if (savedButton) {
      savedButton.click();
    }
  }

  // Total visitors counter (existing code)
  let baseCount = parseInt(localStorage.getItem('mathswell_base_count') || '2847');
  const today = new Date().toDateString();
  const visitedToday = localStorage.getItem('mathswell_visited_' + today);
  
  if (!visitedToday) {
    baseCount++;
    localStorage.setItem('mathswell_base_count', baseCount);
    localStorage.setItem('mathswell_visited_' + today, 'true');
  }
  
  const counterEl = document.getElementById('visitor-count');
  if (counterEl) {
    counterEl.textContent = baseCount.toLocaleString();
    counterEl.style.opacity = '0';
    counterEl.style.transition = 'opacity 0.6s ease-in';
    setTimeout(() => {
      counterEl.style.opacity = '1';
    }, 100);
  }
  
  // Live visitors simulation
  function updateLiveVisitors() {
    const hour = new Date().getHours();
    let min = 1, max = 3;
    
    if (hour >= 9 && hour <= 17) {
      min = 2;
      max = 7;
    }
    else if (hour >= 17 && hour <= 22) {
      min = 1;
      max = 5;
    }
    else {
      min = 0;
      max = 2;
    }
    
    const live = Math.floor(Math.random() * (max - min + 1)) + min;
    const liveEl = document.getElementById('live-visitors');
    if (liveEl) {
      liveEl.textContent = live;
      liveEl.style.opacity = '0.7';
      setTimeout(() => {
        liveEl.style.opacity = '1';
      }, 300);
    }
  }
  
  updateLiveVisitors();
  setInterval(updateLiveVisitors, Math.random() * 30000 + 30000);
})();
</script>
</body>
</html>
